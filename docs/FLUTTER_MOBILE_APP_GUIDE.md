# Flutter ç§»åŠ¨åº”ç”¨å¼€å‘æŒ‡å—

## ğŸ“± æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•ä½¿ç”¨ Flutter å¼€å‘ Product Warehouse ä»“åº“ç®¡ç†ç³»ç»Ÿçš„ç§»åŠ¨åº”ç”¨ï¼ˆiOS + Androidï¼‰ã€‚

---

## ğŸ¯ ä¸ºä»€ä¹ˆé€‰æ‹© Flutterï¼Ÿ

| ç‰¹æ€§ | Flutter | React Native | åŸç”Ÿå¼€å‘ |
|------|---------|-------------|---------|
| **è·¨å¹³å°** | âœ… iOS + Android + Web | âœ… iOS + Android | âŒ åˆ†åˆ«å¼€å‘ |
| **æ€§èƒ½** | â­â­â­â­â­ æ¥è¿‘åŸç”Ÿ | â­â­â­â­ è¾ƒå¥½ | â­â­â­â­â­ æœ€ä½³ |
| **å¼€å‘æ•ˆç‡** | â­â­â­â­â­ çƒ­é‡è½½ | â­â­â­â­ çƒ­é‡è½½ | â­â­â­ è¾ƒæ…¢ |
| **UI ä¸€è‡´æ€§** | â­â­â­â­â­ å®Œå…¨ä¸€è‡´ | â­â­â­ åŸºæœ¬ä¸€è‡´ | â­â­â­â­â­ åŸç”Ÿ |
| **å­¦ä¹ æ›²çº¿** | Dart (æ˜“å­¦) | JavaScript/React | Swift + Kotlin |
| **ç”Ÿæ€ç³»ç»Ÿ** | ğŸš€ å¿«é€Ÿå¢é•¿ | ğŸŒŸ æˆç†Ÿä¸°å¯Œ | ğŸŒŸ æœ€æˆç†Ÿ |
| **æ¨èåº¦** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |

**ç»“è®ºï¼šFlutter æœ€é€‚åˆæœ¬é¡¹ç›®**
- âœ… ä¸€å¥—ä»£ç ï¼ŒiOS + Android åŒç«¯å‘å¸ƒ
- âœ… æ€§èƒ½æ¥è¿‘åŸç”Ÿï¼Œæµç•…åº¦é«˜
- âœ… UI å®Œå…¨ä¸€è‡´ï¼Œç»´æŠ¤æˆæœ¬ä½
- âœ… ä¸ç°æœ‰ React å‰ç«¯æ¶æ„ç›¸ä¼¼ï¼Œå­¦ä¹ æˆæœ¬ä½

---

## ğŸ—ï¸ ç§»åŠ¨åº”ç”¨æ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Flutter Mobile App (iOS + Android)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           Presentation Layer (UI)               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚  Login Page  â”‚  â”‚Dashboard Pageâ”‚  ...       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚Product List  â”‚  â”‚ Inventory    â”‚  ...       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        Business Logic Layer (BLoC/Provider)     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚ AuthBloc â”‚  â”‚ProductBlocâ”‚  â”‚InventoryBlocâ”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           Data Layer (Repository)               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ AuthRepository   â”‚  â”‚ ProductRepositoryâ”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Data Sources (API Client)              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚  REST API Client â”‚  â”‚ Local Storage    â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼ HTTP/HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Backend API (FastAPI - Python)                 â”‚
â”‚          http://your-server.com/api/v1                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ†å±‚è¯´æ˜

#### 1. **Presentation Layer (UI å±‚)**

ä½¿ç”¨ Flutter Widgets æ„å»ºç”¨æˆ·ç•Œé¢ã€‚

**ç‰¹ç‚¹ï¼š**
- å“åº”å¼ UIï¼ˆStatelessWidget / StatefulWidgetï¼‰
- Material Design æˆ– Cupertino é£æ ¼
- ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»

**ç¤ºä¾‹é¡µé¢ï¼š**
- ç™»å½•é¡µ (LoginPage)
- ä»ªè¡¨ç›˜ (DashboardPage)
- äº§å“åˆ—è¡¨ (ProductListPage)
- åº“å­˜ç®¡ç† (InventoryPage)
- AI åŠ©æ‰‹èŠå¤© (AIChatPage)
- ç”¨æˆ·è®¾ç½® (SettingsPage)

#### 2. **Business Logic Layer (ä¸šåŠ¡é€»è¾‘å±‚)**

ä½¿ç”¨ **BLoC (Business Logic Component)** æˆ– **Provider** ç®¡ç†çŠ¶æ€ã€‚

**æ¨èï¼šBLoC Pattern**
```dart
// ç¤ºä¾‹ï¼šäº§å“åˆ—è¡¨ BLoC
class ProductBloc extends Bloc<ProductEvent, ProductState> {
  final ProductRepository repository;

  ProductBloc({required this.repository}) : super(ProductInitial()) {
    on<LoadProducts>(_onLoadProducts);
    on<SearchProducts>(_onSearchProducts);
  }

  Future<void> _onLoadProducts(
    LoadProducts event,
    Emitter<ProductState> emit,
  ) async {
    emit(ProductLoading());
    try {
      final products = await repository.getProducts();
      emit(ProductLoaded(products));
    } catch (e) {
      emit(ProductError(e.toString()));
    }
  }
}
```

#### 3. **Data Layer (æ•°æ®å±‚)**

è´Ÿè´£æ•°æ®è·å–å’ŒæŒä¹…åŒ–ã€‚

**Repository Pattern:**
```dart
abstract class ProductRepository {
  Future<List<Product>> getProducts();
  Future<Product> getProductById(int id);
  Future<void> createProduct(Product product);
  Future<void> updateProduct(Product product);
  Future<void> deleteProduct(int id);
}

class ProductRepositoryImpl implements ProductRepository {
  final ApiClient apiClient;
  final LocalStorage localStorage;

  ProductRepositoryImpl({
    required this.apiClient,
    required this.localStorage,
  });

  @override
  Future<List<Product>> getProducts() async {
    try {
      // ä¼˜å…ˆä» API è·å–
      final response = await apiClient.get('/products');
      final products = (response.data as List)
          .map((json) => Product.fromJson(json))
          .toList();

      // ç¼“å­˜åˆ°æœ¬åœ°
      await localStorage.saveProducts(products);

      return products;
    } catch (e) {
      // ç½‘ç»œå¤±è´¥ï¼Œä»ç¼“å­˜è¯»å–
      return await localStorage.getProducts();
    }
  }
}
```

#### 4. **Data Sources (æ•°æ®æº)**

**API Client (ç½‘ç»œè¯·æ±‚):**
```dart
class ApiClient {
  final Dio dio;

  ApiClient() : dio = Dio(BaseOptions(
    baseUrl: 'http://your-server.com/api/v1',
    connectTimeout: Duration(seconds: 5),
    receiveTimeout: Duration(seconds: 3),
  )) {
    // æ·»åŠ æ‹¦æˆªå™¨ï¼šè®¤è¯ã€æ—¥å¿—ã€é”™è¯¯å¤„ç†
    dio.interceptors.add(AuthInterceptor());
    dio.interceptors.add(LogInterceptor());
  }

  Future<Response> get(String path, {Map<String, dynamic>? params}) {
    return dio.get(path, queryParameters: params);
  }

  Future<Response> post(String path, {dynamic data}) {
    return dio.post(path, data: data);
  }
}
```

**Local Storage (æœ¬åœ°å­˜å‚¨):**
```dart
class LocalStorage {
  Future<void> saveToken(String token) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString('auth_token', token);
  }

  Future<String?> getToken() async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getString('auth_token');
  }

  Future<void> saveProducts(List<Product> products) async {
    final box = await Hive.openBox<Product>('products');
    await box.clear();
    await box.addAll(products);
  }
}
```

---

## ğŸ“¦ Flutter é¡¹ç›®ç»“æ„

```
warehouse_mobile/
â”œâ”€â”€ android/                 # Android åŸç”Ÿä»£ç 
â”œâ”€â”€ ios/                     # iOS åŸç”Ÿä»£ç 
â”œâ”€â”€ lib/                     # Flutter åº”ç”¨ä¸»ä»£ç 
â”‚   â”œâ”€â”€ main.dart           # åº”ç”¨å…¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ api/            # API å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ api_client.dart
â”‚   â”‚   â”‚   â””â”€â”€ interceptors/
â”‚   â”‚   â”œâ”€â”€ config/         # é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ app_config.dart
â”‚   â”‚   â”œâ”€â”€ constants/      # å¸¸é‡
â”‚   â”‚   â”‚   â”œâ”€â”€ api_endpoints.dart
â”‚   â”‚   â”‚   â””â”€â”€ app_colors.dart
â”‚   â”‚   â”œâ”€â”€ error/          # é”™è¯¯å¤„ç†
â”‚   â”‚   â”‚   â””â”€â”€ exceptions.dart
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·ç±»
â”‚   â”‚       â””â”€â”€ validators.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ data/               # æ•°æ®å±‚
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ user.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ product.dart
â”‚   â”‚   â”‚   â””â”€â”€ inventory.dart
â”‚   â”‚   â”œâ”€â”€ repositories/   # Repository å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_repository.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ product_repository.dart
â”‚   â”‚   â”‚   â””â”€â”€ inventory_repository.dart
â”‚   â”‚   â””â”€â”€ datasources/    # æ•°æ®æº
â”‚   â”‚       â”œâ”€â”€ remote/     # è¿œç¨‹æ•°æ®æº (API)
â”‚   â”‚       â””â”€â”€ local/      # æœ¬åœ°æ•°æ®æº (ç¼“å­˜)
â”‚   â”‚
â”‚   â”œâ”€â”€ domain/             # ä¸šåŠ¡é€»è¾‘å±‚ (å¯é€‰ï¼ŒClean Architecture)
â”‚   â”‚   â”œâ”€â”€ entities/       # ä¸šåŠ¡å®ä½“
â”‚   â”‚   â”œâ”€â”€ repositories/   # Repository æ¥å£
â”‚   â”‚   â””â”€â”€ usecases/       # ç”¨ä¾‹
â”‚   â”‚
â”‚   â”œâ”€â”€ presentation/       # è¡¨ç°å±‚ (UI)
â”‚   â”‚   â”œâ”€â”€ blocs/          # BLoC çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth_bloc.dart
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth_event.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ auth_state.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ product/
â”‚   â”‚   â”‚   â””â”€â”€ inventory/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login_page.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register_page.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dashboard_page.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ product_list_page.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ product_detail_page.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ inventory/
â”‚   â”‚   â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ai_chat_page.dart
â”‚   â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ widgets/        # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ common/
â”‚   â”‚       â”‚   â”œâ”€â”€ app_button.dart
â”‚   â”‚       â”‚   â”œâ”€â”€ loading_indicator.dart
â”‚   â”‚       â”‚   â””â”€â”€ error_widget.dart
â”‚   â”‚       â””â”€â”€ product/
â”‚   â”‚           â””â”€â”€ product_card.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/             # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ app_router.dart
â”‚   â”‚
â”‚   â””â”€â”€ l10n/               # å›½é™…åŒ–
â”‚       â”œâ”€â”€ app_en.arb
â”‚       â””â”€â”€ app_zh.arb
â”‚
â”œâ”€â”€ test/                   # å•å…ƒæµ‹è¯•
â”œâ”€â”€ integration_test/       # é›†æˆæµ‹è¯•
â”œâ”€â”€ assets/                 # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ fonts/
â”œâ”€â”€ pubspec.yaml           # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ README.md
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£… Flutter

**macOS:**
```bash
# å®‰è£… Flutter SDK
git clone https://github.com/flutter/flutter.git -b stable
export PATH="$PATH:`pwd`/flutter/bin"

# éªŒè¯å®‰è£…
flutter doctor
```

**Windows:**
```powershell
# ä¸‹è½½ Flutter SDK
# https://docs.flutter.dev/get-started/install/windows

# éªŒè¯å®‰è£…
flutter doctor
```

### 2. åˆ›å»º Flutter é¡¹ç›®

```bash
# åˆ›å»ºæ–°é¡¹ç›®
flutter create warehouse_mobile

cd warehouse_mobile

# è¿è¡Œé¡¹ç›®
flutter run
```

### 3. æ·»åŠ ä¾èµ–

ç¼–è¾‘ `pubspec.yaml`ï¼š

```yaml
dependencies:
  flutter:
    sdk: flutter

  # çŠ¶æ€ç®¡ç†
  flutter_bloc: ^8.1.3
  provider: ^6.0.5

  # ç½‘ç»œè¯·æ±‚
  dio: ^5.3.3
  retrofit: ^4.0.3

  # æœ¬åœ°å­˜å‚¨
  shared_preferences: ^2.2.2
  hive: ^2.2.3
  hive_flutter: ^1.1.0

  # JSON åºåˆ—åŒ–
  json_annotation: ^4.8.1

  # ä¾èµ–æ³¨å…¥
  get_it: ^7.6.4
  injectable: ^2.3.2

  # è·¯ç”±å¯¼èˆª
  go_router: ^12.1.1

  # UI ç»„ä»¶
  flutter_svg: ^2.0.9
  cached_network_image: ^3.3.0
  shimmer: ^3.0.0

  # å·¥å…·
  equatable: ^2.0.5
  dartz: ^0.10.1
  intl: ^0.18.1

dev_dependencies:
  flutter_test:
    sdk: flutter

  # ä»£ç ç”Ÿæˆ
  build_runner: ^2.4.6
  json_serializable: ^6.7.1
  retrofit_generator: ^8.0.4
  injectable_generator: ^2.4.1

  # ä»£ç åˆ†æ
  flutter_lints: ^3.0.1
```

å®‰è£…ä¾èµ–ï¼š
```bash
flutter pub get
```

---

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. API å®¢æˆ·ç«¯

**`lib/core/api/api_client.dart`:**

```dart
import 'package:dio/dio.dart';
import 'package:retrofit/retrofit.dart';

part 'api_client.g.dart';  // ä»£ç ç”Ÿæˆ

@RestApi(baseUrl: "http://your-server.com/api/v1")
abstract class ApiClient {
  factory ApiClient(Dio dio, {String baseUrl}) = _ApiClient;

  // è®¤è¯
  @POST("/auth/login")
  Future<LoginResponse> login(@Body() LoginRequest request);

  // äº§å“
  @GET("/products")
  Future<List<Product>> getProducts();

  @GET("/products/{id}")
  Future<Product> getProductById(@Path("id") int id);

  @POST("/products")
  Future<Product> createProduct(@Body() Product product);

  // åº“å­˜
  @GET("/inventory")
  Future<List<InventoryItem>> getInventory();

  // AI åŠŸèƒ½
  @POST("/ai/rag/query")
  Future<RagResponse> ragQuery(@Body() RagRequest request);

  @POST("/ai/chat")
  Future<ChatResponse> chat(@Body() ChatRequest request);
}
```

**è®¤è¯æ‹¦æˆªå™¨ï¼š**

```dart
class AuthInterceptor extends Interceptor {
  final LocalStorage localStorage;

  AuthInterceptor(this.localStorage);

  @override
  void onRequest(
    RequestOptions options,
    RequestInterceptorHandler handler,
  ) async {
    // æ·»åŠ  JWT Token
    final token = await localStorage.getToken();
    if (token != null) {
      options.headers['Authorization'] = 'Bearer $token';
    }
    super.onRequest(options, handler);
  }

  @override
  void onError(DioException err, ErrorInterceptorHandler handler) {
    // å¤„ç† 401 æœªæˆæƒé”™è¯¯
    if (err.response?.statusCode == 401) {
      // è·³è½¬åˆ°ç™»å½•é¡µ
      // navigatorKey.currentState?.pushReplacementNamed('/login');
    }
    super.onError(err, handler);
  }
}
```

### 2. æ•°æ®æ¨¡å‹

**`lib/data/models/product.dart`:**

```dart
import 'package:json_annotation/json_annotation.dart';
import 'package:equatable/equatable.dart';

part 'product.g.dart';  // ä»£ç ç”Ÿæˆ

@JsonSerializable()
class Product extends Equatable {
  final int id;
  final String name;
  final String sku;
  final double price;
  @JsonKey(name: 'part_number')
  final String? partNumber;
  @JsonKey(name: 'engine_model')
  final String? engineModel;
  @JsonKey(name: 'image_url')
  final String? imageUrl;
  @JsonKey(name: 'is_active')
  final bool isActive;

  const Product({
    required this.id,
    required this.name,
    required this.sku,
    required this.price,
    this.partNumber,
    this.engineModel,
    this.imageUrl,
    this.isActive = true,
  });

  factory Product.fromJson(Map<String, dynamic> json) =>
      _$ProductFromJson(json);

  Map<String, dynamic> toJson() => _$ProductToJson(this);

  @override
  List<Object?> get props => [
        id,
        name,
        sku,
        price,
        partNumber,
        engineModel,
        imageUrl,
        isActive,
      ];
}
```

ç”Ÿæˆä»£ç ï¼š
```bash
flutter pub run build_runner build
```

### 3. BLoC çŠ¶æ€ç®¡ç†

**`lib/presentation/blocs/product/product_bloc.dart`:**

```dart
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:equatable/equatable.dart';

// Events
abstract class ProductEvent extends Equatable {
  @override
  List<Object?> get props => [];
}

class LoadProducts extends ProductEvent {}

class SearchProducts extends ProductEvent {
  final String query;
  SearchProducts(this.query);
  @override
  List<Object?> get props => [query];
}

// States
abstract class ProductState extends Equatable {
  @override
  List<Object?> get props => [];
}

class ProductInitial extends ProductState {}

class ProductLoading extends ProductState {}

class ProductLoaded extends ProductState {
  final List<Product> products;
  ProductLoaded(this.products);
  @override
  List<Object?> get props => [products];
}

class ProductError extends ProductState {
  final String message;
  ProductError(this.message);
  @override
  List<Object?> get props => [message];
}

// BLoC
class ProductBloc extends Bloc<ProductEvent, ProductState> {
  final ProductRepository repository;

  ProductBloc({required this.repository}) : super(ProductInitial()) {
    on<LoadProducts>(_onLoadProducts);
    on<SearchProducts>(_onSearchProducts);
  }

  Future<void> _onLoadProducts(
    LoadProducts event,
    Emitter<ProductState> emit,
  ) async {
    emit(ProductLoading());
    try {
      final products = await repository.getProducts();
      emit(ProductLoaded(products));
    } catch (e) {
      emit(ProductError(e.toString()));
    }
  }

  Future<void> _onSearchProducts(
    SearchProducts event,
    Emitter<ProductState> emit,
  ) async {
    emit(ProductLoading());
    try {
      final products = await repository.searchProducts(event.query);
      emit(ProductLoaded(products));
    } catch (e) {
      emit(ProductError(e.toString()));
    }
  }
}
```

### 4. UI é¡µé¢

**`lib/presentation/pages/products/product_list_page.dart`:**

```dart
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';

class ProductListPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('äº§å“åˆ—è¡¨'),
        actions: [
          IconButton(
            icon: Icon(Icons.search),
            onPressed: () {
              // æœç´¢åŠŸèƒ½
            },
          ),
        ],
      ),
      body: BlocBuilder<ProductBloc, ProductState>(
        builder: (context, state) {
          if (state is ProductLoading) {
            return Center(child: CircularProgressIndicator());
          } else if (state is ProductLoaded) {
            return ListView.builder(
              itemCount: state.products.length,
              itemBuilder: (context, index) {
                final product = state.products[index];
                return ProductCard(product: product);
              },
            );
          } else if (state is ProductError) {
            return Center(
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  Icon(Icons.error, size: 64, color: Colors.red),
                  SizedBox(height: 16),
                  Text(state.message),
                  SizedBox(height: 16),
                  ElevatedButton(
                    onPressed: () {
                      context.read<ProductBloc>().add(LoadProducts());
                    },
                    child: Text('é‡è¯•'),
                  ),
                ],
              ),
            );
          }
          return Container();
        },
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () {
          // æ·»åŠ äº§å“
        },
        child: Icon(Icons.add),
      ),
    );
  }
}
```

**`lib/presentation/widgets/product/product_card.dart`:**

```dart
class ProductCard extends StatelessWidget {
  final Product product;

  const ProductCard({required this.product});

  @override
  Widget build(BuildContext context) {
    return Card(
      margin: EdgeInsets.symmetric(horizontal: 16, vertical: 8),
      child: ListTile(
        leading: product.imageUrl != null
            ? CachedNetworkImage(
                imageUrl: product.imageUrl!,
                width: 60,
                height: 60,
                fit: BoxFit.cover,
                placeholder: (context, url) => CircularProgressIndicator(),
                errorWidget: (context, url, error) => Icon(Icons.error),
              )
            : Icon(Icons.inventory, size: 60),
        title: Text(product.name),
        subtitle: Text('SKU: ${product.sku}\nä»·æ ¼: Â¥${product.price}'),
        isThreeLine: true,
        trailing: Icon(Icons.chevron_right),
        onTap: () {
          Navigator.push(
            context,
            MaterialPageRoute(
              builder: (context) => ProductDetailPage(product: product),
            ),
          );
        },
      ),
    );
  }
}
```

---

## ğŸ“± æ ¸å¿ƒåŠŸèƒ½æ¸…å•

### å·²è§„åˆ’åŠŸèƒ½

- [x] **ç”¨æˆ·è®¤è¯**
  - [x] ç™»å½•/æ³¨å†Œ
  - [x] JWT Token ç®¡ç†
  - [x] è‡ªåŠ¨ç™»å½•

- [x] **äº§å“ç®¡ç†**
  - [x] äº§å“åˆ—è¡¨
  - [x] äº§å“è¯¦æƒ…
  - [x] äº§å“æœç´¢
  - [x] äº§å“åˆ›å»º/ç¼–è¾‘

- [x] **åº“å­˜ç®¡ç†**
  - [x] åº“å­˜åˆ—è¡¨
  - [x] åº“å­˜è°ƒæ•´
  - [x] åº“å­˜é¢„è­¦

- [x] **ä»ªè¡¨ç›˜**
  - [x] é”€å”®ç»Ÿè®¡
  - [x] åº“å­˜æ¦‚è§ˆ
  - [x] å›¾è¡¨å±•ç¤º

- [x] **AI åŠŸèƒ½**
  - [x] AI èŠå¤©åŠ©æ‰‹
  - [x] äº§å“æ´å¯Ÿ
  - [x] RAG é—®ç­”

- [x] **ç”¨æˆ·è®¾ç½®**
  - [x] ä¸ªäººèµ„æ–™
  - [x] å¤´åƒä¸Šä¼ 
  - [x] è¯­è¨€åˆ‡æ¢
  - [x] ä¸»é¢˜åˆ‡æ¢

### é«˜çº§åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

- [ ] **ç¦»çº¿æ”¯æŒ**
  - [ ] æœ¬åœ°æ•°æ®ç¼“å­˜
  - [ ] ç¦»çº¿æ“ä½œé˜Ÿåˆ—
  - [ ] åŒæ­¥æœºåˆ¶

- [ ] **é€šçŸ¥**
  - [ ] Push Notifications
  - [ ] åº“å­˜é¢„è­¦æé†’
  - [ ] è®¢å•é€šçŸ¥

- [ ] **æ‰«ç åŠŸèƒ½**
  - [ ] æ¡å½¢ç /äºŒç»´ç æ‰«æ
  - [ ] å¿«é€Ÿå…¥åº“/å‡ºåº“

- [ ] **æ•°æ®åˆ†æ**
  - [ ] å›¾è¡¨å¯è§†åŒ–
  - [ ] å¯¼å‡ºæŠ¥è¡¨

---

## ğŸ› ï¸ å¼€å‘å·¥å…·å’Œæ’ä»¶

### VS Code æ’ä»¶

```json
{
  "recommendations": [
    "Dart-Code.dart-code",
    "Dart-Code.flutter",
    "alexisvt.flutter-snippets",
    "Nash.awesome-flutter-snippets",
    "felixangelov.bloc"
  ]
}
```

### Android Studio æ’ä»¶

- Flutter
- Dart
- Flutter Intl
- Bloc

---

## ğŸ“š å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Flutter å®˜æ–¹æ–‡æ¡£](https://docs.flutter.dev/)
- [Dart è¯­è¨€æŒ‡å—](https://dart.dev/guides)
- [Flutter BLoC](https://bloclibrary.dev/)

### æ¨èæ•™ç¨‹
- [Flutter å®æˆ˜](https://book.flutterchina.club/)
- [Flutter å®Œæ•´å¼€å‘å®æˆ˜è¯¦è§£](https://guoshuyu.cn/home/wx/)

### ç¤ºä¾‹é¡¹ç›®
- [Flutter Gallery](https://github.com/flutter/gallery)
- [FlutterFire Samples](https://github.com/firebase/flutterfire/tree/master/packages)

---

## ğŸ“ ä¸‹ä¸€æ­¥

1. âœ… **è®¾ç½®å¼€å‘ç¯å¢ƒ**
   - å®‰è£… Flutter SDK
   - é…ç½® IDE å’Œæ’ä»¶

2. ğŸš€ **åˆ›å»ºé¡¹ç›®**
   - ä½¿ç”¨ `flutter create` åˆ›å»ºé¡¹ç›®
   - é…ç½® `pubspec.yaml` ä¾èµ–

3. ğŸ”§ **å®ç°æ ¸å¿ƒåŠŸèƒ½**
   - ç™»å½•è®¤è¯
   - äº§å“åˆ—è¡¨
   - API é›†æˆ

4. ğŸ¨ **UI/UX è®¾è®¡**
   - è®¾è®¡åº”ç”¨ä¸»é¢˜
   - å®ç°å¯å¤ç”¨ç»„ä»¶

5. ğŸ§ª **æµ‹è¯•å’Œè°ƒè¯•**
   - å•å…ƒæµ‹è¯•
   - é›†æˆæµ‹è¯•
   - UI æµ‹è¯•

6. ğŸ“¦ **æ‰“åŒ…å‘å¸ƒ**
   - Android APK/AAB
   - iOS IPA

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0
**æœ€åæ›´æ–°ï¼š** 2025-11-18
**ç»´æŠ¤è€…ï¼š** Product Warehouse Team
